---
title: "SHA 1与SHA 2"
date: 2018-10-28T16:58:39+08:00
draft: false
tags: ["hash"]
categories: ["工具"]
---

# **什么是哈希**

我的理解哈希是一种映射，把各种各样的输入（字符串甚至文件）映射成一串尽可能短的字符串。

哈希的`特点`：

- 不可逆
- 不同输入哈希的结果唯一（不同输入得到相同输出就叫哈希冲突）
- 输入哪怕只有那么1bit的差距，哈希的结果区别非常大

由第三条可以推知哈希可以用来检查文件是否一致以及检查文件是否被修改：

先把文件哈希一遍，得到一个字符串（一般比文件短很多），比较字符串是否一致。而不是检查整个文件是否一致

# **数字证书**

ssl/tls协议是一种用于在两台电脑之间安全传送数据的协议，因为它同时能够加密与认证。

ssl/tls通过非对称加密的方式使它的连接安全。即有两个密钥存在（又称密钥对），一个叫公钥，一个叫私钥。
公钥传播给别人，让别人使用公钥来加密。然后再用对应的私钥来解。（就是这么神奇，能用一个东西加密，却需要另一个东西解密。想通过公钥推出私钥是几乎不可能的）
但是，这就安全了吗？ 还不够。还差你用来加密的公钥确定是对方的。如果互联网中间有那么一个中间人，把正确的公钥替换成他的公钥，当你加密的数据发过来他就能用自己的私钥解密。所以问题变成了公钥是不是你想要的公钥，怎么认证呢？

所以就有了证书。让权威证书机构为安全的网站签发证书，让浏览器只认权威机构的证书，问题得以解决。浏览器本身记录着权威证书机构的公钥，保证权威机构不会是冒充的。

当网站的证书传过来，浏览器首先看签发证书的是不是权威机构，是的话用浏览器本身有的机构的公钥再加密这个证书传给机构检查证书是真的吗，被改过没。检查之后返回结果浏览器才知道该不该继续访问这个网站。

哈希的作用：检查证书是否被改过。  （我感觉证书就像jwt）

# **SHA-1 与SHA-2**

sha-1与sha-2是sha算法的两个版本，sha-2是sha-1的继承者。sha-256 与sha-2是一个东西。SHA-224,SHA-384,SHA-512等也属于sha-2，不过是可选的位数。

sha-1已经不再安全。sha-2至少5年内都是安全的

[原文](https://www.thesslstore.com/blog/difference-sha-1-sha-2-sha-256-hash-algorithms/)

[证书怎样工作的](http://commandlinefanatic.com/cgi-bin/showarticle.cgi?article=art012)